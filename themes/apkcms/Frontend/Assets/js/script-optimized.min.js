function initSearch(){const e=document.getElementById("search-open"),t=document.getElementById("search-form"),n=document.getElementById("search-close");e&&t&&e.addEventListener("click",()=>{showSearchForm()}),n&&t&&n.addEventListener("click",e=>{hideSearchForm()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&t&&t.classList.contains("active")&&hideSearchForm()})}function showSearchForm(){const e=document.getElementById("search-form");if(e){e.classList.add("active");const t=e.querySelector('input[type="search"]');t&&t.focus()}}function hideSearchForm(){const e=document.getElementById("search-form");e&&e.classList.remove("active")}!function(){"use strict";const e={elements:{},init(){this.cacheElements(),this.initMenuToggle(),this.initSearch(),this.initScrollEffects()},cacheElements(){this.elements={menuToggle:document.getElementById("menuToggle"),nav:document.querySelector(".nav"),searchInput:document.getElementById("searchInput"),searchBtn:document.querySelector(".search-btn"),header:document.querySelector(".header")}},initMenuToggle(){const{menuToggle:e,nav:t}=this.elements;e&&t&&e.addEventListener("click",()=>{t.classList.toggle("active"),e.classList.toggle("active"),this.animateHamburger(e)})},animateHamburger(e){e.querySelectorAll("span").forEach((t,n)=>{e.classList.contains("active")?(0===n&&(t.style.transform="rotate(45deg) translate(5px, 5px)"),1===n&&(t.style.opacity="0"),2===n&&(t.style.transform="rotate(-45deg) translate(7px, -6px)")):(t.style.transform="none",t.style.opacity="1")})},initSearch(){const{searchBtn:e,searchInput:t}=this.elements;if(e&&t){const n=e=>{e.trim()&&(console.log(`Searching for: ${e}`),window.location.href=`/search?q=${encodeURIComponent(e)}`)};e.addEventListener("click",()=>n(t.value)),t.addEventListener("keypress",e=>{"Enter"===e.key&&n(t.value)})}},initScrollEffects(){const{header:e}=this.elements;if(!e)return;let t=!1;const n=()=>{window.scrollY>100?(e.style.background="rgba(37, 99, 235, 0.95)",e.style.backdropFilter="blur(10px)"):(e.style.background="var(--bg-primary)",e.style.backdropFilter="none"),t=!1};window.addEventListener("scroll",()=>{t||(requestAnimationFrame(n),t=!0)})}},t={init(){"requestIdleCallback"in window?requestIdleCallback(()=>this.loadFeatures()):setTimeout(()=>this.loadFeatures(),100)},loadFeatures(){this.initSidenav(),this.initModals(),this.initTabs(),this.initHeroSlider()},initSidenav(){const e=document.querySelectorAll(".sidenav-trigger"),t=document.querySelectorAll(".sidenav-overlay");e.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const n=e.getAttribute("data-target"),a=document.getElementById(n),o=document.querySelector(`.sidenav-overlay[data-target="${n}"]`);a&&this.showSidenav(a,o)})}),t.forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-target"),n=document.getElementById(t);this.hideSidenav(n,e)})})},showSidenav(e,t){e&&(e.classList.add("sidenav-open"),t&&t.classList.add("sidenav-overlay-open"),document.body.style.overflow="hidden")},hideSidenav(e,t){e&&(e.classList.remove("sidenav-open"),t&&t.classList.remove("sidenav-overlay-open"),document.body.style.overflow="")},initModals(){document.querySelectorAll(".download-btn").forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const n=e.closest(".app-card, .game-card"),a=n?.querySelector(".app-name, .game-name")?.textContent;a&&this.showDownloadModal(a)})})},showDownloadModal(e){const t=document.createElement("div");t.className="modal-overlay",t.innerHTML=`\n                <div class="modal">\n                    <div class="modal-header">\n                        <h3>Confirm Download</h3>\n                        <button class="modal-close">&times;</button>\n                    </div>\n                    <div class="modal-body">\n                        <p>Are you sure you want to download <strong>${e}</strong>?</p>\n                        <div class="modal-actions">\n                            <button class="btn-cancel">Cancel</button>\n                            <button class="btn-confirm">Download</button>\n                        </div>\n                    </div>\n                </div>\n            `,document.body.appendChild(t);const n=()=>t.remove();t.querySelector(".modal-close").addEventListener("click",n),t.querySelector(".btn-cancel").addEventListener("click",n),t.querySelector(".btn-confirm").addEventListener("click",()=>{alert(`Download started for ${e}!`),n()}),t.addEventListener("click",e=>{e.target===t&&n()})},initTabs(){document.querySelectorAll(".tab-btn").forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-tab"),n=e.closest("section");n.querySelectorAll(".tab-btn").forEach(e=>e.classList.remove("active")),e.classList.add("active"),n.classList.contains("featured-games")?this.filterGames(t):n.classList.contains("featured-apps")&&this.filterApps(t)})})},filterGames(e){document.querySelectorAll(".game-card").forEach(t=>{const n=t.getAttribute("data-category");t.style.display="featured"===e||n===e?"block":"none"})},filterApps(e){document.querySelectorAll(".app-card").forEach(t=>{const n=t.getAttribute("data-category");t.style.display="featured"===e||n===e?"block":"none"})},initHeroSlider(){const e=document.querySelectorAll(".hero-slide");if(0===e.length)return;let t=0;const n=()=>{var n;t=(t+1)%e.length,n=t,e.forEach((e,t)=>{e.classList.toggle("active",t===n)})},a=setInterval(n,5e3),o=document.querySelector(".hero-slider");o&&(o.addEventListener("mouseenter",()=>clearInterval(a)),o.addEventListener("mouseleave",()=>setInterval(n,5e3)))}};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{e.init(),t.init(),initSearch()}):(e.init(),t.init(),initSearch())}();