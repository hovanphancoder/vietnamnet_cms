function initUnfoldTable(){const e=document.getElementById("unfold-table"),t=document.querySelectorAll(".collapse-row");if(!e||0===t.length)return;t.forEach(e=>{e.removeAttribute("style"),e.classList.remove("active")});let n=!1;e.addEventListener("click",function(){n=!n,t.forEach(e=>{n?e.classList.add("active"):e.classList.remove("active")});const o=e.querySelector(".svg-icon svg path");o&&(n?o.setAttribute("d","M480-544.23 280-344.23q-8.92 8.92-21.19 8.8-12.27-.11-21.58-9.42-8.69-9.31-8.38-21.38.3-12.08 9-20.77l221.77-221.77q9.31-9.31 21.38-9.31 12.08 0 21.38 9.31L703.77-395.42q8.69 8.69 9 20.77.3 12.08-8.38 21.38-9.31 9.31-21.38 9.31-12.08 0-21.38-9.31L480-544.23Z"):o.setAttribute("d","M249.23-420q-24.75 0-42.37-17.63-17.63-17.62-17.63-42.37 0-24.75 17.63-42.37Q224.48-540 249.23-540q24.75 0 42.38 17.63 17.62 17.62 17.62 42.37 0 24.75-17.62 42.37Q273.98-420 249.23-420ZM480-420q-24.75 0-42.37-17.63Q420-455.25 420-480q0-24.75 17.63-42.37Q455.25-540 480-540q24.75 0 42.37 17.63Q540-504.75 540-480q0 24.75-17.63 42.37Q504.75-420 480-420Zm230.77 0q-24.75 0-42.38-17.63-17.62-17.62-17.62-42.37 0-24.75 17.62-42.37Q686.02-540 710.77-540q24.75 0 42.37 17.63 17.63 17.62 17.63 42.37 0 24.75-17.63 42.37Q735.52-420 710.77-420Z"))})}function initTableOfContents(){const e=document.getElementById("toc-trigger"),t=document.getElementById("table-of-content");e&&t&&(generateTableOfContents(),e.addEventListener("click",function(){t.hasAttribute("open")?(t.removeAttribute("open"),e.textContent="Show Contents"):(t.setAttribute("open",""),e.textContent="Hide Contents")}))}function generateTableOfContents(){console.log("Starting TOC generation...");const e=document.getElementById("table-of-content");if(!e)return void console.log("TOC container not found");let t=document.querySelector(".entry-block.entry-content.main-entry-content");if(t||(t=document.querySelector(".entry-content")),t||(t=document.querySelector(".main-entry-content")),t||(t=document.querySelector(".entry-block")),!t)return void console.log("Content container not found");console.log("Found content container:",t.className);const n=t.querySelectorAll("h1, h2, h3, h4, h5, h6");if(console.log("Found headings:",n.length),0===n.length)return void console.log("No headings found in content");const o=e.querySelector("ul");if(!o)return void console.log("TOC list not found");o.innerHTML="";let i=0,c=[0,0,0,0,0,0];n.forEach((e,t)=>{if(e.closest(".recommended-section, .recommended-for-you, .related-posts"))return void console.log("Skipping heading in recommended section:",e.textContent);e.id||(e.id=`heading-${t}`);const n=document.createElement("li"),l=parseInt(e.tagName.charAt(1));c[l-1]++;for(let e=l;e<6;e++)c[e]=0;let r="";for(let e=0;e<l;e++)c[e]>0&&(r&&(r+="."),r+=c[e]);n.style.marginLeft=20*(l-1)+"px";const d=document.createElement("a");d.href=`#${e.id}`,d.innerHTML=`<span class="toc-number">${r}.</span> ${e.textContent.trim()}`,d.setAttribute("aria-label",`Jump to ${e.textContent.trim()}`),d.addEventListener("click",function(t){t.preventDefault();const n=e.getBoundingClientRect().top+window.pageYOffset-50;window.scrollTo({top:n,behavior:"smooth"})}),n.appendChild(d),o.appendChild(n),i++,console.log("Added heading:",e.textContent.trim(),"Level:",l,"Number:",r)}),console.log("TOC generated with",i,"items")}function initTitlePostToTopNav(){const e=document.getElementById("title-post");if(e){const t=document.querySelector(".top-nav__title");if(t){let n=e.textContent||e.innerText;n=n.replace(/\s+MOD APK.*$/i,"").trim(),t.textContent=n}}}document.addEventListener("DOMContentLoaded",function(){initUnfoldTable(),initTableOfContents(),initTitlePostToTopNav()});